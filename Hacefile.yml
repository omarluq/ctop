tasks:
  run:
    description: Run the main file
    phony: true
    always_run: true
    commands: |
      crystal run src/ctop.cr
  build:
    description: Build the project
    always_run: true
    commands: |
      crystal build src/ctop.cr -o bin/ctop --release
  spec:
    description: Run crystal spec
    phony: true
    always_run: true
    commands: |
      crystal spec
  format:
    description: Format code with crystal tool format
    phony: true
    always_run: true
    commands: |
      crystal tool format
  format:check:
    description: Check code formatting without modifying files
    phony: true
    always_run: true
    commands: |
      crystal tool format --check
  ameba:
    description: Run Ameba linter
    phony: true
    always_run: true
    commands: |
      bin/ameba
  ameba:fix:
    description: Run Ameba linter
    phony: true
    always_run: true
    commands: |
      bin/ameba --fix
  ameba:gen-config:
    description: Run Ameba linter
    phony: true
    always_run: true
    commands: |
      bin/ameba --gen-config
  all:
    description: Format, lint, and test
    default: true
    phony: true
    always_run: true
    commands: |
      bin/hace --parallel format ameba spec
